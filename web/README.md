# easyAgent Web åº”ç”¨

è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ React + Vite å¼€å‘çš„ç°ä»£åŒ–å‰ç«¯åº”ç”¨ï¼Œç”¨äºæ¼”ç¤º easyAgent API æœåŠ¡ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ’¬ **èŠå¤©ç•Œé¢**: æ”¯æŒåŒæ­¥å’Œæµå¼ä¸¤ç§èŠå¤©æ¨¡å¼
- ğŸ”§ **Agent ç®¡ç†**: æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„ Agent åŠå…¶è¯¦ç»†ä¿¡æ¯
- ğŸ¨ **ç°ä»£åŒ–UI**: å“åº”å¼è®¾è®¡ï¼Œä¼˜é›…çš„æ¸å˜é…è‰²
- âš¡ **å®æ—¶äº¤äº’**: SSE æµå¼å“åº”ï¼Œå®æ—¶æ˜¾ç¤º Agent å¤„ç†çŠ¶æ€
- ğŸ“± **ç§»åŠ¨ç«¯å‹å¥½**: è‡ªé€‚åº”å„ç§å±å¹•å°ºå¯¸

## æŠ€æœ¯æ ˆ

- **React 18**: ç°ä»£åŒ–çš„ UI æ¡†æ¶
- **Vite**: æé€Ÿçš„å¼€å‘æ„å»ºå·¥å…·
- **Axios**: HTTP å®¢æˆ·ç«¯
- **CSS3**: åŸç”Ÿ CSSï¼Œæ— é¢å¤– UI åº“ä¾èµ–

## å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

1. Node.js 16+ å’Œ npm/yarn
2. easyAgent API æœåŠ¡å·²å¯åŠ¨ï¼ˆé»˜è®¤è¿è¡Œåœ¨ `http://localhost:8000`ï¼‰

### å®‰è£…ä¾èµ–

```bash
cd web
npm install
```

### é…ç½® API åœ°å€

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```env
VITE_API_URL=http://localhost:8000
```

å¦‚æœ API æœåŠ¡è¿è¡Œåœ¨å…¶ä»–åœ°å€ï¼Œè¯·ç›¸åº”ä¿®æ”¹ã€‚

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

åº”ç”¨å°†åœ¨ `http://localhost:5173` å¯åŠ¨ï¼ˆVite é»˜è®¤ç«¯å£ï¼‰ã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

æ„å»ºäº§ç‰©å°†è¾“å‡ºåˆ° `dist/` ç›®å½•ã€‚

### é¢„è§ˆç”Ÿäº§æ„å»º

```bash
npm run preview
```

## é¡¹ç›®ç»“æ„

```
web/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Chat.jsx        # èŠå¤©ç•Œé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Chat.css        # èŠå¤©æ ·å¼
â”‚   â”‚   â”œâ”€â”€ Agents.jsx      # Agent åˆ—è¡¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ Agents.css      # Agent æ ·å¼
â”‚   â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ useChat.js      # èŠå¤©é€»è¾‘ Hook
â”‚   â”‚   â””â”€â”€ useAgents.js    # Agent ç®¡ç† Hook
â”‚   â”œâ”€â”€ services/           # API æœåŠ¡
â”‚   â”‚   â””â”€â”€ api.js          # API è°ƒç”¨å°è£…
â”‚   â”œâ”€â”€ App.jsx             # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ App.css             # å…¨å±€æ ·å¼
â”‚   â””â”€â”€ main.jsx            # åº”ç”¨å…¥å£
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”œâ”€â”€ .env                    # ç¯å¢ƒå˜é‡
â”œâ”€â”€ index.html              # HTML æ¨¡æ¿
â”œâ”€â”€ package.json            # é¡¹ç›®é…ç½®
â””â”€â”€ vite.config.js          # Vite é…ç½®

```

## ä½¿ç”¨æŒ‡å—

### èŠå¤©åŠŸèƒ½

1. **åˆ‡æ¢æ¨¡å¼**: ç‚¹å‡»é¡¶éƒ¨çš„"åŒæ­¥æ¨¡å¼"æˆ–"æµå¼æ¨¡å¼"æŒ‰é’®
2. **å‘é€æ¶ˆæ¯**: åœ¨è¾“å…¥æ¡†è¾“å…¥é—®é¢˜ï¼Œç‚¹å‡»"å‘é€"æˆ–æŒ‰ Enter
3. **æ¸…ç©ºå¯¹è¯**: ç‚¹å‡»"æ¸…ç©º"æŒ‰é’®æ¸…é™¤èŠå¤©å†å²

**ç¤ºä¾‹æŸ¥è¯¢**:
- "æŸ¥è¯¢idä¸º2çš„å›¾ä¹¦ä¿¡æ¯"
- "ä½ å¥½"
- "æœ‰å“ªäº›å¯ç”¨çš„Agentï¼Ÿ"

### Agent ç®¡ç†

1. ç‚¹å‡»å¯¼èˆªæ çš„"Agents"æŒ‰é’®
2. æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„ Agent åˆ—è¡¨
3. ç‚¹å‡»"æŸ¥çœ‹è¯¦æƒ…"æŸ¥çœ‹ Agent çš„è¯¦ç»†ä¿¡æ¯
4. æŸ¥çœ‹ Agent çš„å¤„ç†èƒ½åŠ›ã€å‚æ•°ç­‰

## API é›†æˆ

### åŒæ­¥èŠå¤©

```javascript
import { chatSync } from './services/api';

const response = await chatSync('ä½ å¥½');
console.log(response);
```

### æµå¼èŠå¤©

```javascript
import { chatStream } from './services/api';

await chatStream('ä½ å¥½', {
  onDelta: (data) => console.log('å¢é‡:', data.content),
  onAgentStart: (data) => console.log('Agentå¼€å§‹:', data.agent_name),
  onAgentEnd: (data) => console.log('Agentç»“æŸ:', data.agent_name),
  onError: (data) => console.error('é”™è¯¯:', data.error_message),
  onDone: () => console.log('å®Œæˆ'),
});
```

### è·å– Agent åˆ—è¡¨

```javascript
import { getAgents } from './services/api';

const response = await getAgents();
console.log(response.agents);
```

## ç¯å¢ƒå˜é‡

| å˜é‡å | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| VITE_API_URL | API æœåŠ¡åœ°å€ | http://localhost:8000 |

## å¼€å‘æç¤º

### Hot Module Replacement (HMR)

Vite æä¾›æé€Ÿçš„ HMRï¼Œä¿®æ”¹ä»£ç åé¡µé¢ä¼šè‡ªåŠ¨åˆ·æ–°ã€‚

### æ ·å¼ä¿®æ”¹

æ‰€æœ‰ç»„ä»¶æ ·å¼éƒ½æ˜¯ç‹¬ç«‹çš„ CSS æ–‡ä»¶ï¼Œå¯ä»¥æ–¹ä¾¿åœ°è‡ªå®šä¹‰ï¼š

- `App.css`: å…¨å±€æ ·å¼å’Œå¯¼èˆªæ 
- `Chat.css`: èŠå¤©ç•Œé¢æ ·å¼
- `Agents.css`: Agent ç®¡ç†ç•Œé¢æ ·å¼

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `src/components/` åˆ›å»ºæ–°ç»„ä»¶
2. åœ¨ `src/App.jsx` ä¸­æ·»åŠ è·¯ç”±é€»è¾‘
3. åœ¨å¯¼èˆªæ æ·»åŠ é“¾æ¥

## æ•…éšœæ’é™¤

### API è¿æ¥å¤±è´¥

**é—®é¢˜**: æ— æ³•è¿æ¥åˆ° API æœåŠ¡

**è§£å†³æ–¹æ¡ˆ**:
1. ç¡®è®¤ API æœåŠ¡å·²å¯åŠ¨: `python start_api.py`
2. æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„ `VITE_API_URL` æ˜¯å¦æ­£ç¡®
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°çš„ç½‘ç»œè¯·æ±‚

### CORS é”™è¯¯

**é—®é¢˜**: æµè§ˆå™¨æ˜¾ç¤º CORS é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
1. ç¡®è®¤ API æœåŠ¡å·²å¯ç”¨ CORSï¼ˆ`api/server.py` ä¸­å·²é…ç½®ï¼‰
2. å¦‚æœä½¿ç”¨ä¸åŒç«¯å£ï¼Œç¡®ä¿ API çš„ CORS é…ç½®å…è®¸è¯¥ç«¯å£

### æµå¼å“åº”å¡ä½

**é—®é¢˜**: æµå¼èŠå¤©æ²¡æœ‰å“åº”

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ API æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
2. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
3. ç¡®è®¤ç½‘ç»œè¿æ¥ç¨³å®š

## éƒ¨ç½²

### æ„å»º

```bash
npm run build
```

### ä½¿ç”¨é™æ€æœåŠ¡å™¨

```bash
# å®‰è£… serve
npm install -g serve

# å¯åŠ¨æœåŠ¡å™¨
serve -s dist -p 3000
```

### Nginx é…ç½®ç¤ºä¾‹

```nginx
server {
    listen 80;
    server_name your-domain.com;

    # å‰ç«¯é™æ€æ–‡ä»¶
    location / {
        root /path/to/web/dist;
        try_files $uri $uri/ /index.html;
    }

    # API åå‘ä»£ç†
    location /api {
        proxy_pass http://localhost:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

## æ€§èƒ½ä¼˜åŒ–

- âœ… ä½¿ç”¨ Vite çš„å¿«é€Ÿ HMR
- âœ… ç»„ä»¶çº§åˆ«çš„æ ·å¼éš”ç¦»
- âœ… æ‡’åŠ è½½å’Œä»£ç åˆ†å‰²ï¼ˆå¯æ‰©å±•ï¼‰
- âœ… å“åº”å¼å›¾ç‰‡ï¼ˆå¯æ‰©å±•ï¼‰

## æµè§ˆå™¨æ”¯æŒ

- Chrome/Edge 90+
- Firefox 88+
- Safari 14+

## å¼€æºåè®®

MIT

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·è®¿é—® [easyAgent é¡¹ç›®ä¸»é¡µ](../README.md)
