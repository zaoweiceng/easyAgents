<div align="center">

  <h1>ğŸ¤– easyAgent</h1>

  **ä¸€ä¸ªç®€å•æ˜“ç”¨çš„å¤šAgentåä½œæ¡†æ¶**

  [![Python Version](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
  [![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
  [![FastAPI](https://img.shields.io/badge/FastAPI-0.100+-teal.svg)](https://fastapi.tiangolo.com)
  [![React](https://img.shields.io/badge/React-19+-cyan.svg)](https://react.dev)

  [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [åŠŸèƒ½ç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§) â€¢ [æ–‡æ¡£](#-æ–‡æ¡£) â€¢ [API](#-api-æ¥å£)

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

**easyAgent** æ˜¯ä¸€ä¸ªè½»é‡çº§ã€æ˜“æ‰©å±•çš„å¤šAgentåä½œæ¡†æ¶ï¼Œé€šè¿‡å¤šä¸ªä¸“ä¸šåŒ–Agentçš„æ™ºèƒ½åä½œæ¥å¤„ç†å¤æ‚ä»»åŠ¡ã€‚æ¡†æ¶æä¾›å®Œæ•´çš„Agentç”Ÿå‘½å‘¨æœŸç®¡ç†ã€åŠ¨æ€æ’ä»¶åŠ è½½ã€æµå¼å“åº”å’Œä¼šè¯ç®¡ç†åŠŸèƒ½ã€‚

### âœ¨ ä¸ºä»€ä¹ˆé€‰æ‹© easyAgentï¼Ÿ

- ğŸ¯ **å¼€ç®±å³ç”¨** - å†…ç½®å®Œæ•´çš„Agentç®¡ç†ç³»ç»Ÿï¼Œå‡ åˆ†é’Ÿå³å¯å¯åŠ¨
- ğŸ”Œ **æ’ä»¶åŒ–æ¶æ„** - åŠ¨æ€åŠ è½½Agentæ’ä»¶ï¼Œè½»æ¾æ‰©å±•åŠŸèƒ½
- ğŸ¤ **æ™ºèƒ½åä½œ** - Agenté—´è‡ªåŠ¨ä»»åŠ¡ä¼ é€’å’Œä¸Šä¸‹æ–‡å…±äº«
- ğŸ“¡ **MCPåè®®æ”¯æŒ** - åŸç”Ÿæ”¯æŒModel Context Protocol
- ğŸ’¾ **ä¼šè¯ç®¡ç†** - å®Œæ•´çš„å¯¹è¯å†å²æŒä¹…åŒ–
- ğŸš€ **é«˜æ€§èƒ½** - åŸºäºFastAPIå’ŒReactï¼Œæ”¯æŒSSEæµå¼å“åº”
- ğŸ¨ **Webç•Œé¢** - ç°ä»£åŒ–React UIï¼Œå®æ—¶æµå¼å¯¹è¯ä½“éªŒ

---

## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

### 1. å¤šAgentåä½œç³»ç»Ÿ
- âœ… æ™ºèƒ½ä»»åŠ¡è·¯ç”±å’Œåˆ†å‘
- âœ… Agenté—´ä»»åŠ¡è‡ªåŠ¨ä¼ é€’
- âœ… å®Œæ•´çš„å¯¹è¯ä¸Šä¸‹æ–‡ç®¡ç†
- âœ… æ”¯æŒä»»åŠ¡æ‹†åˆ†å’Œå¹¶è¡Œå¤„ç†

### 2. MCPåè®®æ”¯æŒ
- âœ… Model Context Protocolé›†æˆ
- âœ… è¿œç«¯MCPæœåŠ¡å™¨è¿æ¥ï¼ˆSSEï¼‰
- âœ… è‡ªåŠ¨å·¥å…·è°ƒç”¨å’Œç»“æœå¤„ç†
- âœ… å¥åº·æ£€æŸ¥å’Œé”™è¯¯æ¢å¤

### 3. ä¼šè¯ç®¡ç†
- âœ… å¤šä¼šè¯æ”¯æŒ
- âœ… å¯¹è¯å†å²æŒä¹…åŒ–
- âœ… ä¼šè¯æ ‡é¢˜è‡ªåŠ¨ç”Ÿæˆ
- âœ… å¯¹è¯å¯¼å‡ºåŠŸèƒ½

### 4. æµå¼å“åº”
- âœ… Server-Sent Events (SSE)
- âœ… å®æ—¶AgentçŠ¶æ€æ›´æ–°
- âœ… å¢é‡å†…å®¹è¾“å‡º
- âœ… é”™è¯¯äº‹ä»¶æ¨é€

### 5. å¼ºå¤§çš„åŠ¨æ€å¯æ‰©å±•æ€§ ğŸŒŸ
- âœ… **é›¶é…ç½®åŠ è½½** - å°†Agentæ–‡ä»¶æ”¾å…¥`plugin/`ç›®å½•å³å¯è‡ªåŠ¨åŠ è½½
- âœ… **çƒ­æ’æ‹”æ”¯æŒ** - æ— éœ€é‡å¯æœåŠ¡ï¼ŒAPIè§¦å‘é‡æ–°åŠ è½½å³å¯ç”Ÿæ•ˆ
- âœ… **ç®€å•å¼€å‘** - åªéœ€ç»§æ‰¿AgentåŸºç±»ï¼Œå®ç°runæ–¹æ³•
- âœ… **æ™ºèƒ½å°è£…** - è¿”å›å€¼è‡ªåŠ¨æ ‡å‡†åŒ–ï¼Œæ”¯æŒå¤šç§è¿”å›ç±»å‹
- âœ… **ç»Ÿä¸€æ¥å£** - æ‰€æœ‰Agentéµå¾ªç›¸åŒçš„æ¥å£è§„èŒƒ
- âœ… **å®Œæ•´ç¤ºä¾‹** - æä¾›demo_agent.pyä½œä¸ºå¼€å‘æ¨¡æ¿

---

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
easyAgent/
â”œâ”€â”€ core/                    # æ ¸å¿ƒæ¡†æ¶æ¨¡å—
â”‚   â”œâ”€â”€ agent_manager.py    # Agentç®¡ç†å™¨ï¼ˆæ ¸å¿ƒåè°ƒå™¨ï¼‰
â”‚   â”œâ”€â”€ agent.py            # AgentåŸºç±»å’ŒAgentLoader
â”‚   â”œâ”€â”€ plugin_manager.py   # æ’ä»¶ç®¡ç†å™¨
â”‚   â”œâ”€â”€ mcp_client.py       # MCPåè®®å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ context_manager.py  # ä¸Šä¸‹æ–‡å’Œä¼šè¯ç®¡ç†
â”‚   â”œâ”€â”€ base_model.py       # Messageæ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ agents/             # å†…ç½®Agentå®ç°
â”‚   â”‚   â”œâ”€â”€ entrance_agent.py  # å…¥å£Agent
â”‚   â”‚   â”œâ”€â”€ general_agent.py   # é€šç”¨Agent
â”‚   â”‚   â”œâ”€â”€ demand_agent.py    # éœ€æ±‚å¤„ç†Agent
â”‚   â”‚   â””â”€â”€ mcp_agent.py       # MCPåè®®Agent
â”‚   â””â”€â”€ prompt/             # æç¤ºè¯æ¨¡æ¿ç³»ç»Ÿ
â”‚
â”œâ”€â”€ api/                    # FastAPIæœåŠ¡
â”‚   â”œâ”€â”€ server.py          # APIæœåŠ¡å™¨
â”‚   â”œâ”€â”€ database.py        # æ•°æ®åº“æœåŠ¡
â”‚   â””â”€â”€ models.py          # Pydanticæ•°æ®æ¨¡å‹
â”‚
â”œâ”€â”€ web/                    # Reactå‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/         # é¡µé¢ç»„ä»¶
â”‚   â”‚   â””â”€â”€ services/      # APIæœåŠ¡å°è£…
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ data/                   # æ•°æ®å­˜å‚¨ç›®å½•
â”‚   â””â”€â”€ conversations.db    # SQLiteæ•°æ®åº“
â”‚
â”œâ”€â”€ example/                # Agentç¤ºä¾‹ä»£ç 
â”‚   â”œâ”€â”€ demo_agent.py      # æ•°å­¦è®¡ç®—Agentï¼ˆæ¨èé˜…è¯»ï¼‰
â”‚   â””â”€â”€ sql_agent.py       # SQLæŸ¥è¯¢Agent
â”‚
â”œâ”€â”€ main.py                 # ä¸»ç¨‹åºå…¥å£ï¼ˆæ”¯æŒCLIå’ŒAPIæ¨¡å¼ï¼‰
â”œâ”€â”€ config.py              # é…ç½®ç®¡ç†
â”œâ”€â”€ requirements.txt        # Pythonä¾èµ–
â”œâ”€â”€ .env.example           # é…ç½®æ¨¡æ¿
â””â”€â”€ README.md              # é¡¹ç›®æ–‡æ¡£
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Python**: 3.8+
- **Node.js**: 18+ (å¦‚éœ€ä½¿ç”¨Webç•Œé¢)
- **LLMæœåŠ¡**: OpenAI APIæˆ–å…¼å®¹æœåŠ¡

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-username/easyAgent.git
cd easyAgent
```

### 2. å®‰è£…ä¾èµ–

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# å®‰è£…Pythonä¾èµ–
pip install -r requirements.txt
```

### 3. é…ç½®ç¯å¢ƒ

```bash
# å¤åˆ¶é…ç½®æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®LLMæœåŠ¡
# LLM_BASE_URL=http://127.0.0.1:9999/v1
# LLM_API_KEY=your-api-key
# LLM_MODEL_NAME=gpt-4
```

### 4. å¯åŠ¨æœåŠ¡

#### é€‰é¡¹A: å¯åŠ¨å®Œæ•´æœåŠ¡ï¼ˆåç«¯+å‰ç«¯ï¼‰

```bash
# ç»ˆç«¯1: å¯åŠ¨åç«¯API
python main.py --api

# ç»ˆç«¯2: å¯åŠ¨å‰ç«¯
cd web
npm install
npm run dev

# è®¿é—® http://localhost:5173 ä½¿ç”¨Webç•Œé¢
```

#### é€‰é¡¹B: ä»…å¯åŠ¨åç«¯API

```bash
# ç”Ÿäº§æ¨¡å¼
python main.py --api

# å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡è½½ï¼‰
python main.py --api --dev

# è®¿é—® http://localhost:8000/docs æŸ¥çœ‹APIæ–‡æ¡£
```

#### é€‰é¡¹C: å‘½ä»¤è¡Œæ¨¡å¼

```bash
# è¿è¡Œé»˜è®¤æŸ¥è¯¢ç¤ºä¾‹
python main.py

# è¿è¡Œè‡ªå®šä¹‰æŸ¥è¯¢
python main.py "å¸®æˆ‘æŸ¥è¯¢å›¾ä¹¦ä¿¡æ¯"

# æµå¼è¾“å‡º
python main.py --stream "å¸®æˆ‘æŸ¥è¯¢å›¾ä¹¦ä¿¡æ¯"
```

### 5. éªŒè¯å®‰è£…

```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:8000/health

# é¢„æœŸå“åº”:
# {"status":"ok","service":"easyAgent API","version":"0.1.0","agents_loaded":4}
```

### 6. ä½“éªŒåŠ¨æ€æ‰©å±•æ€§ ğŸŒŸ

```bash
# 1ï¸âƒ£ å¤åˆ¶ç¤ºä¾‹Agentåˆ°pluginç›®å½•
cp example/demo_agent.py plugin/

# 2ï¸âƒ£ è§¦å‘çƒ­é‡è½½ï¼ˆä¸¤ç§æ–¹å¼ï¼‰

# æ–¹å¼A: CLIæ¨¡å¼ï¼ˆé‡å¯è‡ªåŠ¨åŠ è½½ï¼‰
python main.py "è®¡ç®— 123 åŠ  456"

# æ–¹å¼B: APIæ¨¡å¼ï¼ˆæ— éœ€é‡å¯ï¼‰
# å…ˆå¯åŠ¨APIæœåŠ¡
python main.py --api

# ç„¶åè°ƒç”¨é‡è½½æ¥å£
curl -X POST http://localhost:8000/agents/reload

# ç«‹å³å¯ç”¨ï¼
curl -X POST http://localhost:8000/chat \
  -H "Content-Type: application/json" \
  -d '{"query": "è®¡ç®— 123 åŠ  456"}'
```

**è¯´æ˜**ï¼š
- CLIæ¨¡å¼ï¼šæ¯æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨åŠ è½½pluginç›®å½•
- APIæ¨¡å¼ï¼šæä¾›`/agents/reload`æ¥å£å®ç°çƒ­æ’æ‹”
- é‡è½½ä¼šä¿ç•™æ‰€æœ‰å†…ç½®Agentå’ŒMCP Agent

---

## ğŸ’» ä½¿ç”¨ç¤ºä¾‹

### Python APIè°ƒç”¨

```python
from core import AgentManager
from config import get_config

# åŠ è½½é…ç½®
config = get_config()

# åˆå§‹åŒ–AgentManager
agent_manager = AgentManager(
    plugin_src="plugin",
    base_url=config.settings.LLM_BASE_URL,
    api_key=config.settings.LLM_API_KEY,
    model_name=config.settings.LLM_MODEL_NAME
)

# åŒæ­¥è°ƒç”¨
response = agent_manager("æŸ¥è¯¢å›¾ä¹¦ä¿¡æ¯")
for msg in response:
    print(f"{msg['role']}: {msg.get('message', '')}")

# æµå¼è°ƒç”¨
for event in agent_manager("æŸ¥è¯¢å›¾ä¹¦ä¿¡æ¯", stream=True):
    if event["type"] == "delta":
        print(event["data"]["content"], end="", flush=True)
```

### HTTP APIè°ƒç”¨

```bash
# åŒæ­¥æ¨¡å¼
curl -X POST http://localhost:8000/chat \
  -H "Content-Type: application/json" \
  -d '{
    "query": "æŸ¥è¯¢å›¾ä¹¦ä¿¡æ¯",
    "stream": false
  }'

# æµå¼æ¨¡å¼ (SSE)
curl -X POST http://localhost:8000/chat/stream \
  -H "Content-Type: application/json" \
  -d '{
    "query": "æŸ¥è¯¢å›¾ä¹¦ä¿¡æ¯",
    "stream": true
  }'
```

### JavaScriptå®¢æˆ·ç«¯

```javascript
// ä½¿ç”¨fetch API
const response = await fetch('http://localhost:8000/chat', {
  method: 'POST',
  headers: {'Content-Type': 'application/json'},
  body: JSON.stringify({
    query: 'æŸ¥è¯¢å›¾ä¹¦ä¿¡æ¯',
    stream: false
  })
});

const result = await response.json();
console.log(result.response);
```

---

## ğŸ”Œ å†…ç½®Agent

### 1. Entrance Agentï¼ˆå…¥å£Agentï¼‰
- **åŠŸèƒ½**: è§£æç”¨æˆ·è¯·æ±‚ï¼Œç”Ÿæˆä»»åŠ¡åˆ—è¡¨
- **ç‰¹ç‚¹**: ä¸å¯¹å¤–ç›´æ¥ä½¿ç”¨ï¼Œä½œä¸ºæ‰€æœ‰è¯·æ±‚çš„å…¥å£ç‚¹

### 2. General Agentï¼ˆé€šç”¨Agentï¼‰
- **åŠŸèƒ½**: å¤„ç†ä¸€èˆ¬æ€§é—®ç­”ï¼Œæ•´åˆå¤šä¸ªAgentçš„ç»“æœ
- **ç‰¹ç‚¹**: é»˜è®¤åå¤‡Agentï¼Œè´Ÿè´£æ ¼å¼åŒ–è¾“å‡º

### 3. Demand Agentï¼ˆéœ€æ±‚å¤„ç†Agentï¼‰
- **åŠŸèƒ½**: å¤„ç†å¤æ‚éœ€æ±‚ï¼Œä»»åŠ¡æ‹†åˆ†
- **ç‰¹ç‚¹**: æ”¯æŒå¤šæ­¥éª¤ä»»åŠ¡å¤„ç†

### 4. MCP Agentï¼ˆMCPåè®®Agentï¼‰
- **åŠŸèƒ½**: ä¸MCPæœåŠ¡å™¨é€šä¿¡ï¼Œè°ƒç”¨å¤–éƒ¨å·¥å…·
- **ç‰¹ç‚¹**: æ”¯æŒSSEä¼ è¾“ï¼Œè‡ªåŠ¨å·¥å…·è°ƒç”¨

---

## ğŸ“¡ APIæ¥å£

### ä¸»è¦ç«¯ç‚¹

| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|------|------|------|
| GET | `/health` | å¥åº·æ£€æŸ¥ |
| GET | `/agents` | è·å–Agentåˆ—è¡¨ |
| POST | `/agents/reload` | çƒ­é‡è½½æ’ä»¶Agent |
| GET | `/agents/{name}` | è·å–Agentè¯¦æƒ… |
| POST | `/chat` | åŒæ­¥èŠå¤©æ¥å£ |
| POST | `/chat/stream` | æµå¼èŠå¤©æ¥å£(SSE) |
| GET | `/conversations` | è·å–ä¼šè¯åˆ—è¡¨ |
| POST | `/conversations` | åˆ›å»ºæ–°ä¼šè¯ |
| GET | `/conversations/{id}` | è·å–ä¼šè¯è¯¦æƒ… |
| DELETE | `/conversations/{id}` | åˆ é™¤ä¼šè¯ |
| POST | `/conversations/{id}/export` | å¯¼å‡ºä¼šè¯ |

### APIæ–‡æ¡£

å¯åŠ¨æœåŠ¡åè®¿é—®:
- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- **Python 3.8+** - æ ¸å¿ƒå¼€å‘è¯­è¨€
- **FastAPI** - é«˜æ€§èƒ½Webæ¡†æ¶
- **Pydantic 2.0+** - æ•°æ®éªŒè¯å’Œè®¾ç½®ç®¡ç†
- **OpenAI SDK** - LLMæ¥å£
- **Uvicorn** - ASGIæœåŠ¡å™¨
- **SQLite** - æ•°æ®åº“ï¼ˆä¼šè¯æŒä¹…åŒ–ï¼‰

### å‰ç«¯
- **React 19** - UIæ¡†æ¶
- **Vite** - æ„å»ºå·¥å…·
- **Axios** - HTTPå®¢æˆ·ç«¯
- **React Router** - è·¯ç”±ç®¡ç†
- **Lucide React** - å›¾æ ‡åº“
- **React Markdown** - Markdownæ¸²æŸ“

### é›†æˆ
- **MCP Protocol** - Model Context Protocol
- **SSE** - Server-Sent Eventsæµå¼ä¼ è¾“

---

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

| å˜é‡å | è¯´æ˜ | é»˜è®¤å€¼ | å¿…å¡« |
|--------|------|--------|------|
| `LLM_BASE_URL` | LLMæœåŠ¡åœ°å€ | `http://127.0.0.1:9999/v1` | æ˜¯ |
| `LLM_API_KEY` | APIå¯†é’¥ | - | æ˜¯ |
| `LLM_MODEL_NAME` | æ¨¡å‹åç§° | `openai/gpt-oss-20b` | æ˜¯ |
| `PLUGIN_DIR` | æ’ä»¶ç›®å½• | `plugin` | å¦ |
| `MCP_ENABLED` | å¯ç”¨MCP | `false` | å¦ |
| `LOG_LEVEL` | æ—¥å¿—çº§åˆ« | `INFO` | å¦ |

### ğŸš€ åˆ›å»ºè‡ªå®šä¹‰Agent

easyAgentçš„å¼ºå¤§ä¹‹å¤„åœ¨äº**æç®€çš„æ‰©å±•æ–¹å¼**ã€‚åªéœ€3æ­¥å³å¯åˆ›å»ºå¹¶éƒ¨ç½²è‡ªå®šä¹‰Agentï¼š

#### å¿«é€Ÿå¼€å§‹ï¼ˆ3æ­¥ï¼‰

```bash
# 1ï¸âƒ£ å¤åˆ¶ç¤ºä¾‹æ–‡ä»¶åˆ°pluginç›®å½•
cp example/demo_agent.py plugin/my_agent.py

# 2ï¸âƒ£ è§¦å‘é‡è½½
# CLIæ¨¡å¼ï¼šç›´æ¥è¿è¡Œï¼ˆè‡ªåŠ¨åŠ è½½ï¼‰
python main.py "æµ‹è¯•æ¶ˆæ¯"

# APIæ¨¡å¼ï¼šè°ƒç”¨é‡è½½æ¥å£
curl -X POST http://localhost:8000/agents/reload

# 3ï¸âƒ£ ç«‹å³ä½¿ç”¨
python main.py "è®¡ç®— 123 åŠ  456"
```

#### çƒ­æ’æ‹”ä½¿ç”¨ï¼ˆAPIæ¨¡å¼ï¼‰

```bash
# åœºæ™¯1ï¼šæ·»åŠ æ–°Agent
cp example/demo_agent.py plugin/new_agent.py
curl -X POST http://localhost:8000/agents/reload
# æ–°Agentç«‹å³å¯ç”¨ï¼Œæ— éœ€é‡å¯æœåŠ¡

# åœºæ™¯2ï¼šåˆ é™¤Agent
rm plugin/old_agent.py
curl -X POST http://localhost:8000/agents/reload
# Agentå·²ç§»é™¤

# åœºæ™¯3ï¼šæ›´æ–°Agent
vim plugin/existing_agent.py
curl -X POST http://localhost:8000/agents/reload
# ä¿®æ”¹ç«‹å³ç”Ÿæ•ˆ
```

#### å®Œæ•´ç¤ºä¾‹

æŸ¥çœ‹ `example/demo_agent.py` è·å–å®Œæ•´æ³¨é‡Šçš„ç¤ºä¾‹ä»£ç ï¼š

```python
# plugin/my_agent.py
from core.agent import Agent
from core.base_model import Message
from core.prompt.template_model import PromptTemplate

class MyAgent(Agent):
    """è‡ªå®šä¹‰Agentç¤ºä¾‹"""

    def __init__(self):
        # 1. é…ç½®AgentåŸºæœ¬ä¿¡æ¯
        super().__init__(
            name="my_agent",                    # å”¯ä¸€æ ‡è¯†
            description="AgentåŠŸèƒ½æè¿°",         # å¸®åŠ©LLMç†è§£ä½•æ—¶è°ƒç”¨
            handles=["å…³é”®è¯1", "å…³é”®è¯2"],      # è§¦å‘å…³é”®è¯
            parameters={                        # å‚æ•°è¯´æ˜
                "input": "è¾“å…¥å‚æ•°è¯´æ˜"
            }
        )

        # 2. åˆ›å»ºæç¤ºè¯æ¨¡æ¿
        self.prompt_template = PromptTemplate(
            system_instructions="ä½ æ˜¯ä¸€ä½ä¸“ä¸šåŠ©æ‰‹",
            available_agents=None,
            core_instructions="å…·ä½“ä»»åŠ¡æ‰§è¡ŒæŒ‡å—",
            data_fields="è¿”å›æ•°æ®çš„ç»“æ„è¯´æ˜"
        )

    def run(self, message: Message) -> Message:
        """
        3. å®ç°æ ¸å¿ƒå¤„ç†é€»è¾‘

        è¾“å…¥: messageï¼ˆåŒ…å«LLMè§£æåçš„æ•°æ®ï¼‰
        è¾“å‡º: Message æˆ– Dict æˆ– ä»»æ„ç±»å‹
        """
        # æå–æ•°æ®
        data = message.data or {}

        # å¤„ç†é€»è¾‘
        result = process_data(data)

        # è¿”å›ç»“æœï¼ˆ3ç§æ–¹å¼ï¼‰
        # æ–¹å¼1: è¿”å›Messageï¼ˆå®Œå…¨æ§åˆ¶ï¼‰
        return Message(
            status="success",
            task_list=["ä»»åŠ¡1", "ä»»åŠ¡2"],
            data={"key": "value"},
            next_agent="none",              # "none"ç»“æŸï¼Œæˆ–æŒ‡å®šä¸‹ä¸€ä¸ªAgent
            agent_selection_reason="åŸå› è¯´æ˜",
            message="å¤„ç†å®Œæˆ"
        )

        # æ–¹å¼2: è¿”å›å­—å…¸ï¼ˆç³»ç»Ÿè‡ªåŠ¨å°è£…ï¼‰
        # return {"result": result}

        # æ–¹å¼3: è¿”å›ç®€å•å€¼ï¼ˆç³»ç»ŸåŒ…è£…ï¼‰
        # return result
```

#### è¿”å›å€¼è¯´æ˜

`run()` æ–¹æ³•æ”¯æŒ3ç§è¿”å›ç±»å‹ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ ‡å‡†åŒ–ï¼š

| è¿”å›ç±»å‹ | è¯´æ˜ | é€‚ç”¨åœºæ™¯ |
|---------|------|---------|
| `Message` | å®Œæ•´æ§åˆ¶æ‰€æœ‰å­—æ®µ | éœ€è¦ç²¾ç¡®æ§åˆ¶ä»»åŠ¡æµã€é”™è¯¯å¤„ç† |
| `Dict` | ç³»ç»Ÿè‡ªåŠ¨å°è£…åˆ°data | è¿”å›ç»“æ„åŒ–æ•°æ®ï¼Œç»§ç»­å¤„ç† |
| `å…¶ä»–ç±»å‹` | ç³»ç»ŸåŒ…è£…åˆ°data.result | ç®€å•è®¡ç®—ã€æŸ¥è¯¢ç»“æœ |

#### Agentåä½œ

é€šè¿‡è®¾ç½® `next_agent` å­—æ®µå®ç°Agenté—´ä»»åŠ¡ä¼ é€’ï¼š

```python
# ç»“æŸæµç¨‹
next_agent = "none"

# ç»§ç»­è®©é€šç”¨Agentå¤„ç†
next_agent = "general_agent"

# ä¼ é€’ç»™ç‰¹å®šAgent
next_agent = "other_agent_name"
```

#### æœ€ä½³å®è·µ

1. **å‘½åè§„èŒƒ**
   - æ–‡ä»¶ï¼š`xxx_agent.py`
   - ç±»åï¼š`XxxAgent`
   - Agentåï¼š`xxx_agent`

2. **é”™è¯¯å¤„ç†**
   ```python
   try:
       result = process()
   except Exception as e:
       return Message(
           status="error",
           data={"error": str(e)},
           next_agent="none",
           message=f"å¤„ç†å¤±è´¥: {e}"
       )
   ```

3. **æ—¥å¿—è®°å½•**
   ```python
   import logging
   logger = logging.getLogger(__name__)
   logger.info("å¤„ç†å®Œæˆ")
   ```

4. **æµ‹è¯•Agent**
   ```bash
   # CLIæ¨¡å¼æµ‹è¯•
   python main.py "ä½ çš„é—®é¢˜"

   # APIæ¨¡å¼æµ‹è¯•
   python main.py --api
   # è®¿é—® http://localhost:8000/docs

   # Webç•Œé¢æµ‹è¯•
   cd web && npm run dev
   ```

#### æ›´å¤šç¤ºä¾‹

- `example/demo_agent.py` - æ•°å­¦è®¡ç®—Agentï¼ˆå¸¦å®Œæ•´æ³¨é‡Šï¼‰
- `example/sql_agent.py` - SQLæŸ¥è¯¢Agent
- `core/agents/demand_agent.py` - éœ€æ±‚å¤„ç†Agent
- `core/agents/mcp_agent.py` - MCPåè®®Agent

---

## ğŸ¯ åº”ç”¨åœºæ™¯

- **ğŸ¤– æ™ºèƒ½å®¢æœç³»ç»Ÿ** - è·¯ç”±ä¸åŒç±»å‹é—®é¢˜åˆ°ä¸“ä¸šAgent
- **ğŸ“Š æ•°æ®æŸ¥è¯¢åŠ©æ‰‹** - è‡ªç„¶è¯­è¨€åˆ°SQLè½¬æ¢
- **ğŸ”„ å·¥ä½œæµè‡ªåŠ¨åŒ–** - å¤šæ­¥éª¤ä»»åŠ¡è‡ªåŠ¨åŒ–å¤„ç†
- **ğŸ“– çŸ¥è¯†é—®ç­”ç³»ç»Ÿ** - é¢†åŸŸä¸“å®¶Agentåä½œ
- **ğŸ› ï¸ å¼€å‘åŠ©æ‰‹** - ä»£ç ç”Ÿæˆã€è°ƒè¯•ã€æ–‡æ¡£ç”Ÿæˆ

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ã€‚

---

## ğŸŒŸ è‡´è°¢

- [OpenAI](https://openai.com/) - æä¾›å¼ºå¤§çš„LLM API
- [FastAPI](https://fastapi.tiangolo.com/) - ç°ä»£åŒ–çš„Python Webæ¡†æ¶
- [Pydantic](https://docs.pydantic.dev/) - æ•°æ®éªŒè¯åº“
- [React](https://react.dev/) - ç”¨æˆ·ç•Œé¢åº“
- [MCP](https://modelcontextprotocol.io/) - Model Context Protocol

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª â­ï¸ Staræ”¯æŒä¸€ä¸‹ï¼**

</div>
